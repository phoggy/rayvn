![alt text](https://raw.githubusercontent.com/phoggy/rayvn/refs/heads/main/etc/rayvn-logo.png?token=GHSAT0AAAAAAC5VZJ7UATQMRTWZS2XBXL64Z4P6JSQ "logo") 

# rayvn
A simple bash shared library manager and a set of shared libraries.

### Installation

```bash
$ brew tap phoggy/homebrew-rayvn # hopefully a temporary step
$ brew install rayvn
```

# Developing With Raven

## Using rayvn within scripts

The following line in your script will activate rayvn
```bash
source rayvn.up
```

After that line executes, your script now has a `require` function which can then be used to load any installed shared library.
Nearly all scripts will want to include the `rayvn/core` library:
```bash
require 'rayvn/core'
```

For convenience, `rayvn.up` accepts a list library names to immediately `require`, so, for example
the separate steps will normally be combined:
```bash
source rayvn.up 'rayvn/core'
```

The `require` function can be called lazily, e.g. within a function.

Calling `require` multiple times for the same library will only load it on the first call, subsequent calls will just count the request.


To see the set of public functions available in a library: 
```bash
ravyn list 'rayvn/core'
```

Private functions are any that have an underscore prefix. Private functions are always subject to change, so *should not be used!* 

## Developing rayvn projects

First `cd` to the directory where you want your project to live, then:
```bash
$ rayvn create project "my-name"
```
This will generate a skeleton project.
         
TODO!

# --- NOTE: tentative info follows! --------------------------------------

# Publishing Projects

Project names are _**global**_ and must be published to be accessible from the `rayvn` command. Publication requires 
the following steps:
                   
### Fork the `rayvn-roost/rayvn-registry` Repo
                                      
This is where you will commit files (on a branch) and submit PRs to update the global registry.

1. Navigate to the [rayvn-registry](https://github.com/rayvn-roost/rayvn-registry).
2. Click the Fork button.
3. Clone your fork locally.

### Register Your Project

1. Use the `rayvn project PATH <name>` command, where `PATH` points to the `projects` directory of your `'rayvn-registry'` fork.
2. Edit the generated `<name>` file and change the `project.name` to your desired project name.
3. Commit and push the `rayvn.project` file.
4. Submit a PR on your `rayvn-roost/rayvn-registry` fork containing `"register project <your GitHub username>"`

##### The `rayvn.project` File

```bash 
project.id = GUID          # generated by rayvn project command.
project.created = TIME  # generated by rayvn project command.
project.name = NAME      # the desired project name, does not have to match a project repo name.
```

